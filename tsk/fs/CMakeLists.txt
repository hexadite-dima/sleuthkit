add_library(tskfs STATIC ${CMAKE_CURRENT_SOURCE_DIR}/fs/dcalc_lib.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/dcat_lib.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/dls_lib.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/dstat_lib.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/exfatfs.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/exfatfs_dent.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/exfatfs_meta.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/ext2fs.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/ext2fs_dent.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/ext2fs_journal.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fatfs.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fatfs_dent.cpp ${CMAKE_CURRENT_SOURCE_DIR}/fs/fatfs_meta.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fatfs_utils.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fatxxfs.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fatxxfs_dent.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fatxxfs_meta.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/ffind_lib.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/ffs.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/ffs_dent.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fls_lib.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fs_attr.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fs_attrlist.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fs_block.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fs_dir.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fs_file.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fs_inode.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fs_io.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fs_load.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fs_name.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fs_open.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fs_parse.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/fs_types.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/hfs.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/hfs_dent.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/hfs_journal.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/hfs_unicompare.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/icat_lib.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/ifind_lib.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/ils_lib.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/ntfs.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/ntfs_dent.cpp ${CMAKE_CURRENT_SOURCE_DIR}/fs/unix_misc.c ${CMAKE_CURRENT_SOURCE_DIR}/fs/walk_cpp.cpp)
include_directories(${CMAKE_CURRENT_SOURCE_DIR}/..)
target_link_libraries(tskfs)
install(TARGETS tskfs LIBRARY ARCHIVE DESTINATION lib)
install(FILES ${CMAKE_CURRENT_SOURCE_DIR}/fs/tsk_fs.h DESTINATION include/tsk/fs)